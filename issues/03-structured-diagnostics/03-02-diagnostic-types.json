{
    "title": "Define Diagnostic ADT (errors as structured data, not strings)",
    "epic": 3,
    "milestone": "M0: Project Infrastructure",
    "labels": [
        "priority:critical",
        "component:infra",
        "type:feature"
    ],
    "depends_on": [
        "03-01"
    ],
    "body": "Define the core diagnostic types. Errors are an AST, not strings.\n\n**Deliverables:**\n- `Severity` enum: `Error`, `Warning`, `Info`, `Hint`\n- `DiagnosticCode` enum: one variant per error kind (start with a few placeholders like `ParseError`, `TypeError`, `UnboundVariable`; the enum will grow)\n- `Diagnostic` struct containing:\n  - `severity: Severity`\n  - `code: DiagnosticCode`\n  - `span: SourceSpan`\n  - `message: []const u8` (primary message)\n  - `notes: []Note` (secondary labels / suggestions)\n- `Note` struct: `span: ?SourceSpan`, `message: []const u8`\n- Unit tests\n\n**Design notes:**\n- Modelled after GHC's `MsgEnvelope` / `GhcMessage` pattern (which the project owner helped design)\n- The `DiagnosticCode` enum enables programmatic matching (LSP, JSON output, tests)\n- Keep the types simple now; they will grow as pipeline stages are implemented",
    "github_issue": 18,
    "depends_on_github": [
        17
    ]
}
